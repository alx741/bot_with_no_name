#include "eyes.h"
#include "video.h"
#include <f1.h>
#include <rcc.h>
#include <cmsis.h>
#include <string.h>

void eyes_init(void)
{
    video_init();
}

void select_eyes(EYE_t eye1, EYE_t eye2)
{
    void *fb_ptr = &FRAME_BUFFER;

    for (int i = 0; i < 8; i++)
    {
        memset(fb_ptr++, vec2byte(eye2[i]), 1);
        memset(fb_ptr++, vec2byte(eye1[i]), 1);
    }
}

const EYE_t eye_default = {
      { 0,0,1,1,1,1,0,0 }
    , { 0,1,1,1,1,1,1,0 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 0,1,1,1,1,1,1,0 }
    , { 0,0,1,1,1,1,0,0 }
    };


const EYE_t eye_happy = {
      { 0,0,1,1,1,1,0,0 }
    , { 0,1,1,1,1,1,1,0 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 0,0,0,0,0,0,0,0 }
    , { 0,0,0,0,0,0,0,0 }
    };


const EYE_t eye_smile = {
      { 0,0,0,0,0,0,0,0 }
    , { 0,0,0,0,0,0,0,0 }
    , { 0,0,1,1,1,1,0,0 }
    , { 0,1,1,1,1,1,1,0 }
    , { 1,1,1,0,0,1,1,1 }
    , { 1,1,0,0,0,0,1,1 }
    , { 1,0,0,0,0,0,0,1 }
    , { 0,0,0,0,0,0,0,0 }
    };


const EYE_t eye_full = {
      { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    , { 1,1,1,1,1,1,1,1 }
    };


const EYE_t eye_dead = {
      { 1,0,0,0,0,0,0,1 }
    , { 0,1,0,0,0,0,1,0 }
    , { 0,0,1,0,0,1,0,0 }
    , { 0,0,0,1,1,0,0,0 }
    , { 0,0,0,1,1,0,0,0 }
    , { 0,0,1,0,0,1,0,0 }
    , { 0,1,0,0,0,0,1,0 }
    , { 1,0,0,0,0,0,0,1 }
    };
